t = -3 : 0.01 : 3;f = 1;a = 5;b = -3;sqr = @ (t) a * square(2 * pi * f * t) + b;g_t = sqr(t);subplot(2, 1, 1);plot(t, g_t);xlabel('t');ylabel('g(t)');%fourier seriesT = 0 : 0.01 : 1;g_T = sqr(T);m_options = [1 5 10 20 50];m = m_options(4);Ao = 2 * trapz(T, g_T);A = zeros(1, m);B = zeros(1, m);S = Ao / 2;for i = 1 : m    A(i) = 2 * trapz(T, g_T .* cos( (2 * pi * i * f) .* T ));    B(i) = 2 * trapz(T, g_T .* sin( (2 * pi * i * f) .* T ));    S += (A(i) .* cos( (2 * pi * i * f) .* t ) +          B(i) .* sin( (2 * pi * i * f) .* t ));endfor%plotsubplot(2, 1, 2);plot(t, S);title("Square Wave using Fourier Series");xlabel("t");ylabel("g(t)");